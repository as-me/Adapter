!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require(void 0),require("React"),require("d3chart"),require("c3")):"function"==typeof define&&define.amd?define([,"React","d3chart","c3"],t):"object"==typeof exports?exports.AsmeAdapter=t(require(void 0),require("React"),require("d3chart"),require("c3")):e.AsmeAdapter=t(e[void 0],e.React,e.d3chart,e.c3)}(this,function(e,t,o,a){return function(e){function t(a){if(o[a])return o[a].exports;var s=o[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var o={};return t.m=e,t.c=o,t.p="js/",t(0)}([function(e,t,o){"use strict";o(1),t.AdapterInterface=o(3),t.hook={},t.hook.C3Hook=o(4),t.hook.D3Hook=o(5),t.peer={},t.peer.WeaveJSPeer=o(6),t.components={},t.components.D3={},t.components.D3.ScatterPlotTool=o(7),t.components.C3={},t.components.C3.ScatterPlotTool=o(11)},function(e,t,o){"use strict";o(2),"undefined"==typeof window?(void 0).adapter=(void 0).adapter||{}:window.adapter=window.adapter||{},"undefined"==typeof window?(void 0).adapter.sessionData=(void 0).adapter.sessionData||{}:window.adapter.sessionData=window.adapter.sessionData||{},function(){function e(){Object.defineProperty(this,"dataSource",{value:WeaveAPI.globalHashMap.requestObject("dataSource",weavecore.LinkableVariable)})}var t=e.prototype;t.getData=function(){return this.dataSource.getSessionState()},t.getSessionStateValue=function(){return{dataSource:this.dataSource.getSessionState()}},adapter.sessionData.GlobalData=new e}()},function(t,o){t.exports=e},function(e,t){"use strict";"undefined"==typeof window?(void 0).adapter=(void 0).adapter||{}:window.adapter=window.adapter||{},function(){function e(){}var t=e.prototype;t.doSelection=function(e){console.log("this hook doesnt have Selection API")},t.doProbe=function(e){console.log("this hook doesnt have Probe API")},t.setData=function(){},t.getData=function(){},adapter.Interface=e}()},function(e,t){"use strict";"undefined"==typeof window?(void 0).adapter.hook=(void 0).adapter.hook||{}:window.adapter.hook=window.adapter.hook||{},function(){function e(e){adapter.Interface.call(this),e&&(this.chart=e)}e.prototype=new adapter.Interface,e.prototype.constructor=e;var t=e.prototype;t.setChart=function(e){this.chart=e},t.doProbe=function(e){return this.chart?void this.chart.select(this.chart.columns,[e],!0):void console.log("Hook a C3 chart First")},t.doSelection=function(e){if(!this.chart)return void console.log("Hook a c3 chart First");if(void 0!==e?e.constructor!==Array&&console.log("Keys has to be an array "):console.log("keys(Array)  is required"),e.length>0){var t=e.map(function(e){return e.constructor===String?e=Number(e):e});this.chart.select(this.chart.columns,t,!0)}else this.chart.unselect()},adapter.hook.C3Interface=e}()},function(e,t){"use strict";"undefined"==typeof window?(void 0).adapter.hook=(void 0).adapter.hook||{}:window.adapter.hook=window.adapter.hook||{},function(){function e(e){adapter.Interface.call(this),e&&(this.chart=e),this.dataSource}e.prototype=new adapter.Interface,e.prototype.constructor=e;var t=e.prototype;t.setChart=function(e){this.chart=e},t.doSelection=function(e){return this.chart?void this.chart.select(e):void console.log("Hook a d3 chart First")},t.doProbe=function(e){return this.chart?void this.chart.probe(e):void console.log("Hook a d3 chart First")},t.setData=function(e,t){return this.chart?(this.dataSource=e,void this.chart.renderChart(t)):void console.log("Hook a d3 chart First")},adapter.hook.D3Interface=e}()},function(e,t,o){"use strict";o(2),"undefined"==typeof window?(void 0).adapter.peer=(void 0).adapter.peer||{}:window.adapter.peer=window.adapter.peer||{},function(){function e(){adapter.Interface.call(this),this.activeHook=null,Object.defineProperty(this,"sessionable",{value:!0}),Object.defineProperty(this,"probeKeys",{value:WeaveAPI.globalHashMap.requestObject("probeKeys",weavecore.LinkableVariable,!1)}),Object.defineProperty(this,"selectionKeys",{value:WeaveAPI.globalHashMap.requestObject("selectionKeys",weavecore.LinkableVariable,!1)}),Object.defineProperty(this,"hooks",{value:WeaveAPI.globalHashMap.requestObject("hooks",weavecore.LinkableHashMap,!1)}),this.selectionKeys.addImmediateCallback(this,t.bind(this)),this.probeKeys.addImmediateCallback(this,o.bind(this))}function t(){var e=this.selectionKeys.getSessionState(),t=this.hooks.getObjects();t.forEach(function(t,o){t.sessionData.chart!=this.activeHook?t.hook.doSelection(e):this.activeTool=null}.bind(this))}function o(){var e=this.probeKeys.getSessionState(),t=this.hooks.getObjects();t.forEach(function(t,o){t.sessionData.chart!=this.activeHook?t.hook.doProbe(e):this.activeHook=null}.bind(this))}e.prototype=new adapter.Interface,e.prototype.constructor=e;var a=e.prototype;a.doSelection=function(e){this.selectionKeys.setSessionState(e)},a.doProbe=function(e){this.probeKeys.setSessionState(e)},a.requestHook=function(e,t){return this.hooks.requestObject(e,t,!1)},a.deleteHook=function(e){return this.hooks.removeObject(e)},a.loadSessionState=function(){},adapter.peer.WeaveJSInterface=e}()},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=o(8),i=a(s),n=o(9),r=a(n);o(2),"undefined"==typeof window?(void 0).adapter=(void 0).adapter||{}:window.adapter=window.adapter||{},"undefined"==typeof window?(void 0).adapter.sessionData=(void 0).adapter.sessionData||{}:window.adapter.sessionData=window.adapter.sessionData||{},"undefined"==typeof window?(void 0).adapter.sessionData.d3=(void 0).adapter.sessionData.d3||{}:window.adapter.sessionData.d3=window.adapter.sessionData.d3||{},function(){function e(){Object.defineProperty(this,"sessionable",{value:!0}),Object.defineProperty(this,"ns",{value:"adapter.sessionData.d3"}),Object.defineProperty(this,"xAxis",{value:WeaveAPI.SessionManager.registerLinkableChild(this,new weavecore.LinkableString)}),Object.defineProperty(this,"yAxis",{value:WeaveAPI.SessionManager.registerLinkableChild(this,new weavecore.LinkableString("yAxis"))}),this.chart}Object.defineProperty(e,"NS",{value:"adapter.sessionData.d3"}),Object.defineProperty(e,"CLASS_NAME",{value:"ScatterPlotData"});var t=e.prototype;t.getSessionStateValue=function(){return{xAxis:this.xAxis.value,yAxis:this.yAxis.value}},t.getXAxisValue=function(){return{xAxis:this.xAxis.value}},t.getYAxisValue=function(){return{yAxis:this.yAxis.value}},adapter.sessionData.d3.ScatterPlotData=e}(),"undefined"==typeof window?(void 0).adapter.sessionTool=(void 0).adapter.sessionTool||{}:window.adapter.sessionTool=window.adapter.sessionTool||{},"undefined"==typeof window?(void 0).adapter.sessionTool.d3=(void 0).adapter.sessionTool.d3||{}:window.adapter.sessionTool.d3=window.adapter.sessionTool.d3||{},function(){function e(){Object.defineProperty(this,"sessionable",{value:!0}),Object.defineProperty(this,"ns",{value:"adapter.sessionTool.d3"}),Object.defineProperty(this,"sessionData",{value:WeaveAPI.SessionManager.registerLinkableChild(this,new adapter.sessionData.d3.ScatterPlotData)}),Object.defineProperty(this,"hook",{value:new adapter.hook.D3Interface})}Object.defineProperty(e,"NS",{value:"adapter.sessionTool.d3"}),Object.defineProperty(e,"CLASS_NAME",{value:"ScatterPlotTool"});var t=e.prototype;t.createUI=function(e,t,o){console.log("createUI"),this.ui||Object.defineProperty(this,"ui",{value:i["default"].createElement(r["default"],{sessionData:this.sessionData,top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:t.width,height:t.height,onProbe:o.onProbe,onSelect:o.onSelect,hook:this.hook})})},adapter.sessionTool.d3.ScatterPlotTool=e}()},function(e,o){e.exports=t},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),r=function(e,t,o){for(var a=!0;a;){var s=e,i=t,n=o;r=d=c=void 0,a=!1,null===s&&(s=Function.prototype);var r=Object.getOwnPropertyDescriptor(s,i);if(void 0!==r){if("value"in r)return r.value;var c=r.get;return void 0===c?void 0:c.call(n)}var d=Object.getPrototypeOf(s);if(null===d)return void 0;e=d,t=i,o=n,a=!0}};o(10);var c=o(8),d=a(c),l=function(e){function t(e){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sessionData=e.sessionData,this.chart=e.chart,this._setReactState=this._setReactState.bind(this)}return i(t,e),n(t,[{key:"componentDidMount",value:function(){var e={container:d["default"].findDOMNode(this),margin:{top:this.props.top,bottom:this.props.bottom,left:this.props.left,right:this.props.right},size:{width:this.props.width,height:this.props.height},columns:{x:this.sessionData.xAxis.value,y:this.sessionData.yAxis.value,key:"index"},interactions:{onProbe:this.props.onProbe,onSelect:this.props.onSelect}},t=WeaveAPI.globalHashMap.getObject("dataSource").getSessionState();WeaveAPI.globalHashMap.getObject("dataSource").addGroupedCallback(this,this._setReactState),console.log(this,this.props),this.sessionData.chart=new d3Chart.Scatterplot,this.props.hook.setChart(this.sessionData.chart),this.sessionData.chart.create(e),this.sessionData.chart.renderChart(t),this.sessionData.xAxis.addGroupedCallback(this,this._setReactState),this.sessionData.yAxis.addGroupedCallback(this,this._setReactState)}},{key:"componentDidUpdate",value:function(e,t){this.sessionData.chart.setXAttribute(this.sessionData.xAxis.value),this.sessionData.chart.setYAttribute(this.sessionData.yAxis.value)}},{key:"componentWillUnmount",value:function(){this.sessionData.xAxis.removeCallback(this._setReactState),this.sessionData.yAxis.removeCallback(this._setReactState),WeaveAPI.globalHashMap.getObject("dataSource").removeCallback(this._setReactState)}},{key:"_setReactState",value:function(){this.setState(this.sessionData.getSessionStateValue())}},{key:"render",value:function(){return d["default"].createElement("div",{className:"Chart"}," ")}}]),t}(d["default"].Component);e.exports=l},function(e,t){e.exports=o},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=o(8),i=a(s),n=o(12),r=a(n);o(2),"undefined"==typeof window?(void 0).adapter=(void 0).adapter||{}:window.adapter=window.adapter||{},"undefined"==typeof window?(void 0).adapter.sessionData=(void 0).adapter.sessionData||{}:window.adapter.sessionData=window.adapter.sessionData||{},"undefined"==typeof window?(void 0).adapter.sessionData.c3=(void 0).adapter.sessionData.c3||{}:window.adapter.sessionData.c3=window.adapter.sessionData.c3||{},function(){function e(){Object.defineProperty(this,"sessionable",{value:!0}),Object.defineProperty(this,"ns",{value:"adapter.sessionData.c3"}),Object.defineProperty(this,"xAxis",{value:WeaveAPI.SessionManager.registerLinkableChild(this,new weavecore.LinkableString)}),Object.defineProperty(this,"yAxis",{value:WeaveAPI.SessionManager.registerLinkableChild(this,new weavecore.LinkableString("yAxis"))}),this.chart}Object.defineProperty(e,"NS",{value:"adapter.sessionData.c3"}),Object.defineProperty(e,"CLASS_NAME",{value:"ScatterPlotData"});var t=e.prototype;t.getSessionStateValue=function(){return{xAxis:this.xAxis.value,yAxis:this.yAxis.value}},t.getXAxisValue=function(){return{xAxis:this.xAxis.value}},t.getYAxisValue=function(){return{yAxis:this.yAxis.value}},adapter.sessionData.c3.ScatterPlotData=e}(),"undefined"==typeof window?(void 0).adapter.sessionTool=(void 0).adapter.sessionTool||{}:window.adapter.sessionTool=window.adapter.sessionTool||{},"undefined"==typeof window?(void 0).adapter.sessionTool.c3=(void 0).adapter.sessionTool.c3||{}:window.adapter.sessionTool.c3=window.adapter.sessionTool.c3||{},function(){function e(){Object.defineProperty(this,"sessionable",{value:!0}),Object.defineProperty(this,"ns",{value:"adapter.sessionTool.d3"}),Object.defineProperty(this,"sessionData",{value:WeaveAPI.SessionManager.registerLinkableChild(this,new adapter.sessionData.c3.ScatterPlotData)}),Object.defineProperty(this,"hook",{value:new adapter.hook.C3Interface})}Object.defineProperty(e,"NS",{value:"adapter.sessionTool.c3"}),Object.defineProperty(e,"CLASS_NAME",{value:"ScatterPlotTool"});var t=e.prototype;t.createUI=function(e,t,o){console.log("createUI"),this.ui||Object.defineProperty(this,"ui",{value:i["default"].createElement(r["default"],{sessionData:this.sessionData,top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:t.width,height:t.height,onProbe:o.onProbe,onSelect:o.onSelect,hook:this.hook})})},adapter.sessionTool.c3.ScatterPlotTool=e}()},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),r=function(e,t,o){for(var a=!0;a;){var s=e,i=t,n=o;r=d=c=void 0,a=!1,null===s&&(s=Function.prototype);var r=Object.getOwnPropertyDescriptor(s,i);if(void 0!==r){if("value"in r)return r.value;var c=r.get;return void 0===c?void 0:c.call(n)}var d=Object.getPrototypeOf(s);if(null===d)return void 0;e=d,t=i,o=n,a=!0}},c=o(13),d=a(c),l=o(8),u=a(l),p=function(e){function t(e){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sessionData=e.sessionData,this._setReactState=this._setReactState.bind(this)}return i(t,e),n(t,[{key:"componentDidMount",value:function(){var e=WeaveAPI.globalHashMap.getObject("dataSource").getSessionState(),t=[[],[],[]];t[0].push(this.sessionData.xAxis.value),t[1].push(this.sessionData.yAxis.value),t[2].push("index");var o=(e.map(function(e){t[0].push(e[this.sessionData.xAxis.value]),t[1].push(e[this.sessionData.yAxis.value]),t[2].push(e.index)}.bind(this)),{bindto:u["default"].findDOMNode(this),padding:{top:this.props.top,bottom:this.props.bottom,left:this.props.left,right:this.props.right},size:{width:this.props.width,height:this.props.height},data:{x:this.sessionData.xAxis.value,y:this.sessionData.yAxis.value,columns:t,type:"scatter",selection:{enabled:!0,multiple:!0,draggable:!0},hide:["index"],onselected:this.props.onSelect.callback,onmouseover:this.props.onProbe.callback},axis:{x:{label:this.sessionData.xAxis.value},y:{label:this.sessionData.yAxis.value}},legend:{show:!1}});WeaveAPI.globalHashMap.getObject("dataSource").addGroupedCallback(this,this._setReactState),this.sessionData.chart=d["default"].generate(o),this.props.hook.setChart(this.sessionData.chart),this.sessionData.xAxis.addGroupedCallback(this,this._setReactState),this.sessionData.yAxis.addGroupedCallback(this,this._setReactState)}},{key:"componentDidUpdate",value:function(e,t){this.sessionData.chart.setXAttribute(this.sessionData.xAxis.value),this.sessionData.chart.setYAttribute(this.sessionData.yAxis.value)}},{key:"componentWillUnmount",value:function(){this.sessionData.xAxis.removeCallback(this._setReactState),this.sessionData.yAxis.removeCallback(this._setReactState),WeaveAPI.globalHashMap.getObject("dataSource").removeCallback(this._setReactState)}},{key:"_setReactState",value:function(){this.setState(this.sessionData.getSessionStateValue())}},{key:"render",value:function(){return u["default"].createElement("div",{className:"Chart"}," ")}}]),t}(u["default"].Component);e.exports=p},function(e,t){e.exports=a}])});
//# sourceMappingURL=asme-adapter.min.js.map
